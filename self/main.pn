
fs := require "fs"
util := require "util"

lex := require "./parser/lex.js"
parse := require "./parser/parse.js"
cjs := require "./compiler/cjs.js"


main := args -> {
    filename = args 2
    println filename
    src = String (fs "readFileSync" filename)
    tokens = lex src
    ast = parse tokens
    js = cjs ast
    println js
}

main (process "argv")
